<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WebP 변환기</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>🖼️ WebP 변환기</h1>
        <p class="subtitle">이미지를 WebP 형식으로 변환하세요</p>
      </header>

      <!-- 옵션 패널 -->
      <section class="options-panel">
        <div class="option-group">
          <label for="quality"
            >퀄리티: <span id="quality-value">0.85</span></label
          >
          <input
            type="range"
            id="quality"
            min="0.1"
            max="1"
            step="0.05"
            value="0.85"
          />
        </div>

        <div class="option-group">
          <label>리사이즈 옵션:</label>
          <div class="resize-options">
            <label class="radio-label">
              <input type="radio" name="resize-mode" value="none" checked />
              <span>없음 (원본 크기)</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="resize-mode" value="width" />
              <span>가로 고정 (세로 비율 유지)</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="resize-mode" value="height" />
              <span>세로 고정 (가로 비율 유지)</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="resize-mode" value="both" />
              <span>가로 & 세로 지정</span>
            </label>
          </div>
        </div>

        <div class="size-inputs" id="size-inputs">
          <div class="size-input-group" id="width-group">
            <label for="target-width">가로 (px):</label>
            <input
              type="number"
              id="target-width"
              min="1"
              value="800"
              disabled
            />
          </div>
          <div class="size-input-group" id="height-group">
            <label for="target-height">세로 (px):</label>
            <input
              type="number"
              id="target-height"
              min="1"
              value="600"
              disabled
            />
          </div>
        </div>
      </section>

      <!-- 드래그 앤 드롭 영역 -->
      <section class="upload-area" id="upload-area">
        <div class="upload-content">
          <div class="upload-icon">📁</div>
          <p>이미지를 여기에 드래그하거나 클릭하여 선택하세요</p>
          <p class="upload-hint">PNG, JPG, GIF, BMP 등 지원</p>
        </div>
        <input type="file" id="file-input" multiple accept="image/*" hidden />
      </section>

      <!-- 변환 버튼 -->
      <div class="action-buttons">
        <button id="convert-btn" class="btn btn-primary" disabled>
          🔄 변환하기
        </button>
        <button id="download-all-btn" class="btn btn-success" disabled>
          📦 전체 다운로드 (ZIP)
        </button>
        <button id="clear-btn" class="btn btn-secondary" disabled>
          🗑️ 초기화
        </button>
      </div>

      <!-- 진행률 표시 -->
      <div class="progress-container" id="progress-container" hidden>
        <div class="progress-bar">
          <div class="progress-fill" id="progress-fill"></div>
        </div>
        <p class="progress-text" id="progress-text">변환 중... 0%</p>
      </div>

      <!-- 원본 이미지 미리보기 -->
      <section class="preview-section" id="original-section" hidden>
        <h2>📷 원본 이미지 (<span id="original-count">0</span>개)</h2>
        <div class="image-grid" id="original-grid"></div>
      </section>

      <!-- 변환된 이미지 결과 -->
      <section class="preview-section" id="result-section" hidden>
        <h2>✅ 변환 완료 (<span id="result-count">0</span>개)</h2>
        <div class="image-grid" id="result-grid"></div>
      </section>
    </div>

    <!-- JSZip CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="app.js"></script>
  </body>
</html>
